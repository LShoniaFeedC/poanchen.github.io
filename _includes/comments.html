{% if site.disqus_username %}
  <section class="comments">
    <h3>Comments</h3>
    <div id="disqus_thread"></div>
  </section>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = document.location.href;
      // this will make sure
      // when url became /blog/2016/11/15/how-to-add-background-music-in-processing-3.0
      // or /blog/2016/11/15/how-to-add-background-music-in-processing-3.0/
      // or /blog/2016/11/15/how-to-add-background-music-in-processing-3.0.html
      // will all back to /blog/2016/11/15/how-to-add-background-music-in-processing-3.0
      // for disqus to recongize the post
      var pathname = document.location.pathname;
      var dividerList = pathname.split("/");
      if(dividerList[dividerList.length - 1] == "") {
        // there exist trailing "/", we should remove them
        pathname = pathname.slice(0, -1)
      }
      // remove .html if any
      pathname = pathname.replace(".html", "");
      this.page.identifier = pathname;
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = '//{{site.disqus_username}}.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>
  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
{% endif %}